<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misturador de Cores por Elemento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .color-box {
            width: 100%;
            padding-top: 100%; /* Mantém a proporção 1:1 */
            position: relative;
            border-radius: 0.75rem;
            border: 1px solid rgba(0,0,0,0.1);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .color-box:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-lg p-6 md:p-8">
        <div class="text-center mb-8">
            <!-- =========== SEU LOGOTIPO AQUI =========== -->
            <!-- 
                INSTRUÇÕES: Como você tem um arquivo e não um link, siga estes passos:
                1. No seu repositório do GitHub, clique em "Add file" > "Upload files".
                2. Envie o arquivo do seu logotipo.
                3. Após o upload, clique no arquivo de imagem, clique com o botão direito sobre ela e selecione "Copiar endereço da imagem".
                4. Cole o link que você copiou abaixo, no lugar de "https://placehold.co/...".
            -->
            <img src="https://github.com/RaphaelRSilveira/calculadora-razao-cores/blob/main/LOGO%20COPEGEO.png?raw=true" alt="Logotipo do Grupo" class="mx-auto mb-6 h-24">
            
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Misturador de Cores por Elemento</h1>
            <p class="text-gray-600 mt-2">Selecione dois elementos para visualizar suas cores padrão e calcular a cor resultante de sua razão.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 items-start">
            
            <!-- Coluna do Elemento 1 -->
            <div class="flex flex-col items-center gap-4 p-6 bg-gray-50 rounded-xl">
                <h2 class="text-lg font-bold text-gray-700">Elemento 1</h2>
                <select id="element1" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></select>
                <div id="color1" class="color-box"></div>
                <div class="text-xs text-center text-gray-600 font-mono mt-1 space-y-1 bg-white p-2 rounded-md w-full">
                    <p id="hex1"></p>
                    <p id="rgb1"></p>
                    <p id="cmyk1"></p>
                </div>
            </div>

            <!-- Coluna do Elemento 2 -->
             <div class="flex flex-col items-center gap-4 p-6 bg-gray-50 rounded-xl">
                <h2 class="text-lg font-bold text-gray-700">Elemento 2</h2>
                <select id="element2" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></select>
                <div id="color2" class="color-box"></div>
                <div class="text-xs text-center text-gray-600 font-mono mt-1 space-y-1 bg-white p-2 rounded-md w-full">
                    <p id="hex2"></p>
                    <p id="rgb2"></p>
                    <p id="cmyk2"></p>
                </div>
            </div>

            <!-- Coluna do Resultado -->
            <div class="flex flex-col items-center gap-4 p-6 bg-blue-50 rounded-xl border-2 border-blue-200">
                <h2 id="resultTitle" class="text-lg font-bold text-blue-800">Resultado da Razão</h2>
                <div id="resultColor" class="color-box"></div>
                <div class="text-xs text-center text-gray-700 font-mono mt-1 space-y-1 bg-white p-2 rounded-md w-full">
                    <p id="resultHex"></p>
                    <p id="resultRgb"></p>
                    <p id="resultCmyk"></p>
                </div>
                <div class="mt-4 w-full grid grid-cols-1 sm:grid-cols-3 gap-2">
                    <button id="copyHexButton" class="w-full flex items-center justify-center bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors text-sm">
                        Copiar HEX
                    </button>
                    <button id="copyRgbButton" class="w-full flex items-center justify-center bg-white text-gray-700 border border-gray-300 py-2 px-4 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 transition-colors text-sm">
                        Copiar RGB
                    </button>
                    <button id="copyCmykButton" class="w-full flex items-center justify-center bg-white text-gray-700 border border-gray-300 py-2 px-4 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 transition-colors text-sm">
                        Copiar CMYK
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- INÍCIO DA ÁREA DE CONFIGURAÇÃO ---
        const elementColors = {
            // Major and minor elements
            "SiO₂": { hex: "#FFFF00", rgb: "255/255/0", cmyk: "0/0/100/0" },
            "Al₂O₃": { hex: "#BFBFBF", rgb: "191/191/191", cmyk: "0/0/0/25" },
            "Fe₂O₃": { hex: "#800000", rgb: "128/0/0", cmyk: "0/100/100/50" },
            "MnO": { hex: "#0D0D0D", rgb: "13/13/13", cmyk: "0/0/0/95" },
            "MgO": { hex: "#0000FF", rgb: "0/0/255", cmyk: "100/100/0/0" },
            "CaO": { hex: "#00ADEF", rgb: "0/176/240", cmyk: "100/27/0/6" },
            "Na₂O": { hex: "#7DFF00", rgb: "125/237/202", cmyk: "45/0/32/0" },
            "K₂O": { hex: "#E26B0A", rgb: "226/107/10", cmyk: "0/53/96/11" },
            "TiO₂": { hex: "#595959", rgb: "89/89/89", cmyk: "0/0/0/65" },
            "P₂O₅": { hex: "#870087", rgb: "135/160/217", cmyk: "38/26/0/15" },
            "LOI": { hex: "#F8F6C8", rgb: "248/246/204", cmyk: "0/1/13/3" },
            "SO₃": { hex: "#FF00FF", rgb: "255/51/204", cmyk: "0/80/0/20" },
            // Trace elements
            "V": { hex: "#524125", rgb: "82/69/41", cmyk: "55/60/98/57" },
            "Cr": { hex: "#4F6228", rgb: "79/98/40", cmyk: "19/0/59/62" },
            "Co": { hex: "#24275F", rgb: "36/39/95", cmyk: "100/96/36/36" },
            "Ni": { hex: "#312947", rgb: "64/49/81", cmyk: "21/40/0/68" },
            "Cu": { hex: "#7D7F32", rgb: "205/127/50", cmyk: "17/58/100/3" },
            "Zn": { hex: "#9B992D", rgb: "65/153/150", cmyk: "77/23/44/2" },
            "Ga": { hex: "#B1A0C7", rgb: "177/160/199", cmyk: "11/20/0/22" },
            "As": { hex: "#E5DE4A", rgb: "220/227/168", cmyk: "15/2/43/0" },
            "Rb": { hex: "#FFCC00", rgb: "255/204/204", cmyk: "0/20/20/0" },
            "Sr": { hex: "#00B050", rgb: "0/176/80", cmyk: "100/0/55/31" },
            "Y": { hex: "#C35F0A", rgb: "195/95/15", cmyk: "16/95/100/9" },
            "Zr": { hex: "#E59797", rgb: "201/157/121", cmyk: "22/40/58/1" },
            "Nb": { hex: "#FF0000", rgb: "204/0/0", cmyk: "0/100/100/20" },
            "Ba": { hex: "#945C26", rgb: "148/84/138", cmyk: "0/43/7/42" },
            "Ce": { hex: "#FAB41E", rgb: "250/191/30", cmyk: "2/26/100/0" },
            "Pb": { hex: "#969696", rgb: "150/150/150", cmyk: "45/37/38/2" },
            "Th": { hex: "#90683D", rgb: "144/111/64", cmyk: "38/53/93/21" },
            "U": { hex: "#5B3435", rgb: "91/52/53", cmyk: "41/85/73/60" },
        };
        // --- FIM DA ÁREA DE CONFIGURAÇÃO ---

        // Funções de conversão de cor
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }
        
        function rgbToCmyk(r, g, b) {
            let c = 1 - (r / 255);
            let m = 1 - (g / 255);
            let y = 1 - (b / 255);
            let k = Math.min(c, m, y);

            if (k === 1) return { c: 0, m: 0, y: 0, k: 100 };

            c = (c - k) / (1 - k);
            m = (m - k) / (1 - k);
            y = (y - k) / (1 - k);

            return {
                c: Math.round(c * 100),
                m: Math.round(m * 100),
                y: Math.round(y * 100),
                k: Math.round(k * 100)
            };
        }


        // Referências aos elementos do DOM
        const select1 = document.getElementById('element1');
        const select2 = document.getElementById('element2');
        const color1Div = document.getElementById('color1');
        const color2Div = document.getElementById('color2');
        const hex1P = document.getElementById('hex1');
        const rgb1P = document.getElementById('rgb1');
        const cmyk1P = document.getElementById('cmyk1');
        const hex2P = document.getElementById('hex2');
        const rgb2P = document.getElementById('rgb2');
        const cmyk2P = document.getElementById('cmyk2');
        const resultTitle = document.getElementById('resultTitle');
        const resultColorDiv = document.getElementById('resultColor');
        const resultHexP = document.getElementById('resultHex');
        const resultRgbP = document.getElementById('resultRgb');
        const resultCmykP = document.getElementById('resultCmyk');
        const copyHexButton = document.getElementById('copyHexButton');
        const copyRgbButton = document.getElementById('copyRgbButton');
        const copyCmykButton = document.getElementById('copyCmykButton');

        // Função para popular os menus de seleção
        function populateSelects() {
            const elements = Object.keys(elementColors);
            elements.forEach(element => {
                const option1 = new Option(element, element);
                const option2 = new Option(element, element);
                select1.add(option1);
                select2.add(option2);
            });
            select1.value = elements[0];
            select2.value = elements[1];
        }

        // Função principal para atualizar as cores e a mistura
        function updateMix() {
            const element1 = select1.value;
            const element2 = select2.value;
            const data1 = elementColors[element1];
            const data2 = elementColors[element2];

            // Atualiza Elemento 1
            color1Div.style.backgroundColor = data1.hex;
            hex1P.textContent = `HEX: ${data1.hex}`;
            rgb1P.textContent = `RGB: ${data1.rgb}`;
            cmyk1P.textContent = `CMYK: ${data1.cmyk}`;

            // Atualiza Elemento 2
            color2Div.style.backgroundColor = data2.hex;
            hex2P.textContent = `HEX: ${data2.hex}`;
            rgb2P.textContent = `RGB: ${data2.rgb}`;
            cmyk2P.textContent = `CMYK: ${data2.cmyk}`;

            // Calcula e atualiza o resultado
            const rgb1 = hexToRgb(data1.hex);
            const rgb2 = hexToRgb(data2.hex);

            if (!rgb1 || !rgb2) return;

            const mixedR = Math.round((rgb1.r + rgb2.r) / 2);
            const mixedG = Math.round((rgb1.g + rgb2.g) / 2);
            const mixedB = Math.round((rgb1.b + rgb2.b) / 2);

            const mixedHex = rgbToHex(mixedR, mixedG, mixedB);
            const mixedCmyk = rgbToCmyk(mixedR, mixedG, mixedB);

            resultColorDiv.style.backgroundColor = mixedHex;
            resultHexP.textContent = `HEX: ${mixedHex}`;
            resultRgbP.textContent = `RGB: ${mixedR}/${mixedG}/${mixedB}`;
            resultCmykP.textContent = `CMYK: ${mixedCmyk.c}/${mixedCmyk.m}/${mixedCmyk.y}/${mixedCmyk.k}`;
            
            resultTitle.textContent = `Cor ${element1}/${element2}`;
        }

        // Função auxiliar para copiar texto e dar feedback
        function copyToClipboard(textToCopy, buttonElement) {
            if (!textToCopy) return;

            const value = textToCopy.split(': ')[1];
            
            // Fallback para document.execCommand para ambientes restritos
            const textArea = document.createElement("textarea");
            textArea.value = value;
            
            // Estilos para evitar que a tela "pule"
            textArea.style.position = "fixed";
            textArea.style.top = 0;
            textArea.style.left = 0;
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            textArea.style.padding = 0;
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            textArea.style.background = 'transparent';

            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    const originalText = buttonElement.textContent;
                    buttonElement.textContent = 'Copiado!';
                    setTimeout(() => {
                        buttonElement.textContent = originalText;
                    }, 2000);
                }
            } catch (err) {
                console.error('Falha ao copiar: ', err);
            }

            document.body.removeChild(textArea);
        }

        // Event Listeners
        select1.addEventListener('change', updateMix);
        select2.addEventListener('change', updateMix);

        copyHexButton.addEventListener('click', () => {
            copyToClipboard(resultHexP.textContent, copyHexButton);
        });

        copyRgbButton.addEventListener('click', () => {
            copyToClipboard(resultRgbP.textContent, copyRgbButton);
        });

        copyCmykButton.addEventListener('click', () => {
            copyToClipboard(resultCmykP.textContent, copyCmykButton);
        });
        
        // Inicialização
        populateSelects();
        updateMix();
    </script>
</body>
</html>




